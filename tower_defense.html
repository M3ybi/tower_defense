<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width"
    />
    <title>Tower Defense â€“ Game</title>

    <meta
      name="description"
      content="3D Tower Defense game built with A-Frame and a custom shooting mechanic."
    />

    <!-- Optional: any extra styling for canvas / loading overlays -->
    <link rel="stylesheet" href="css/index.css" />

    <!-- Core A-Frame engine (latest stable) -->
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>

    <!-- A-Frame extensions / plugins (local) -->
    <script src="js/aframe-super-shooter-kit.min.js" defer></script>

    <!-- Game logic -->
    <script src="js/objects.js" defer></script>
    <script src="js/scene_build.js" defer></script>
    <script src="js/shoot.js" defer></script>
    <script src="js/start_click.js" defer></script>
  </head>

  <body style="margin: 0; padding: 0; overflow: hidden;">
    <noscript>
      <p style="color: white; background: #111; padding: 1rem; text-align: center;">
        JavaScript is required to run the Tower Defense game.
      </p>
    </noscript>

    <a-scene
      vr-mode-ui="enabled: true"
      renderer="colorManagement: true; physicallyCorrectLights: true"
    >
      <!-- Bullet Template -->
      <a-entity
        id="bulletTemplate"
        bullet="speed: 60"
        geometry="primitive: sphere; radius: 0.1"
        material="color: orange"
      ></a-entity>

      <!-- Assets -->
      <a-assets id="model">
        <!-- Ground / floor texture -->
        <img
          id="boxTexture"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FDRN.png?v=1583343395782"
        />

        <!-- Sky texture -->
        <img
          id="sky"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2Fmoon.jpg?v=1583343395162"
        />

        <!-- Drones -->
        <a-asset-item
          id="drone-1-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FbestDrone.obj?v=1583343426308"
        ></a-asset-item>
        <a-asset-item
          id="drone-1-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FbestDrone.mtl?v=1583343426014"
        ></a-asset-item>

        <a-asset-item
          id="drone-2-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FsphereDrone.obj?v=1583343433266"
        ></a-asset-item>
        <a-asset-item
          id="drone-2-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FsphereDrone.mtl?v=1583343432443"
        ></a-asset-item>

        <a-asset-item
          id="drone-3-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2Fcube.obj?v=1588953446350"
        ></a-asset-item>
        <a-asset-item
          id="drone-3-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2Fcube.mtl?v=1588953446326"
        ></a-asset-item>

        <a-asset-item
          id="drone-4-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2Fsphere.obj?v=1588953535669"
        ></a-asset-item>
        <a-asset-item
          id="drone-4-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2Fsphere.mtl?v=1588953535803"
        ></a-asset-item>

        <!-- Indicators / markers -->
        <a-asset-item
          id="indicator-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarker.obj?v=1583343436312"
        ></a-asset-item>
        <a-asset-item
          id="indicator-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarker.mtl?v=1583343436047"
        ></a-asset-item>

        <a-asset-item
          id="marker-red-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarkerRed.obj?v=1583343428283"
        ></a-asset-item>
        <a-asset-item
          id="marker-red-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarkerRed.mtl?v=1583343427967"
        ></a-asset-item>

        <a-asset-item
          id="marker-green-obj"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarkerGreen.obj?v=1583343427667"
        ></a-asset-item>
        <a-asset-item
          id="marker-green-mtl"
          src="https://cdn.glitch.com/bec2ef73-e6da-4e87-9aa6-4f01ec436114%2FdroneMarkerGreen.mtl?v=1583343436628"
        ></a-asset-item>

        <!-- Extra floor texture (unused but kept for compatibility) -->
        <img
          id="boxTexture2"
          src="https://i.imgur.com/mYmmbrp.jpg"
        />
      </a-assets>

      <!-- Background sky color (will be overwritten by sky texture below) -->
      <a-sky color="#333"></a-sky>

      <!-- HUD / Labels -->
      <a-text
        font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
        id="counter"
        position="-6.5 5 -15"
        scale="5 5 1"
      ></a-text>

      <a-text
        id="text1"
        font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
        text="value: Hit square below to start!"
        position="-6.5 8 -15"
        scale="5 5 1"
        color="white"
      ></a-text>

      <a-entity
        id="start"
        geometry="primitive: box"
        material="color: green"
        position="0 5 -15"
        cursor-listener
        scale="3.3 3.3 1"
      ></a-entity>

      <a-text
        font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
        id="text2"
        text="value: PLAY!"
        position="-1.5 5 -14"
        scale="5 5 1"
        color="white"
        cursor-listener
      ></a-text>

      <a-text
        font="https://cdn.aframe.io/fonts/Exo2Bold.fnt"
        id="text4"
        text="value:LEVEL:"
        position="-12 5 -15"
        scale="5 5 1"
        color="white"
      ></a-text>

      <!-- Dynamic containers (populated by scene_build.js) -->
      <a-entity id="scena"></a-entity>
      <a-entity id="scena2"></a-entity>
      <a-entity id="scena3"></a-entity>

      <!-- Camera and Controls -->
      <a-camera
        id="camera"
        look-controls="pointerLockEnabled: true"
        wasd-controls-enabled="false"
      >
        <!-- Cursor configured to use mouse ray as origin (no external plugin needed) -->
        <a-cursor
          id="cursor"
          cursor="rayOrigin: mouse"
          shooter
          click-to-shoot
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.030"
          material="color: red; shader: flat"
          position="0 0 -1"
        ></a-cursor>
      </a-camera>

      <!-- Ground Plane -->
      <a-plane
        id="circle"
        geometry="primitive: circle; radius: 10; segments: 8"
        src="#boxTexture"
        height="20"
        width="20"
        rotation="-90 0 0"
        scale="0.3 0.3 0.3"
      ></a-plane>

      <!-- Sky texture -->
      <a-sky
        src="#sky"
        scale="-0.99 0.25 0.25"
        rotation="-90 0 -90"
      ></a-sky>
    </a-scene>
  </body>
</html>
